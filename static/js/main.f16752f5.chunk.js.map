{"version":3,"sources":["images/blank-artist.png","images/spotify.png","components/Home/Artists.js","components/Home/ArtistSearch.js","components/Home/RecommendedArtists.js","components/Home/Home.js","components/Routes/PrivateRoute.js","components/Login/LoginPage.js","components/Game/SpotifyWebPlayer.js","components/Game/LoadingGif.js","components/Game/GameChoices.js","components/Game/Timer.js","components/Game/GameDisplay.js","components/Game/GamePage.js","App.js","index.js"],"names":["module","exports","Artists","artists","className","map","artist","index","key","to","pathname","encodeURIComponent","id","state","artistSelection","images","src","url","alt","width","height","blankArtist","href","external_urls","spotify","target","rel","name","ArtistSearch","props","spotifyApi","SpotifyWebApi","useState","searchTerm","setSearchTerm","setArtists","token","setToken","useEffect","JSON","parse","localStorage","getItem","setAccessToken","search","limit","then","response","items","style","marginBottom","onSubmit","event","preventDefault","placeholder","value","onChange","RecommendedArtists","justifyContent","topArtists","flex","withRouter","setUser","setTopArtists","history","push","getMe","getMyTopArtists","shuffledArtists","shuffle","slice","arr","i","length","j","Math","floor","random","temp","PrivateRoute","Component","component","rest","render","access_token","URLSearchParams","window","location","get","setItem","stringify","isLoggedIn","LoginPage","paddingLeft","logo","type","onClick","player","setPlayer","playing","setPlaying","playerCheckInterval","setInterval","checkForPlayer","createEventHandlers","console","log","connect","Spotify","clearInterval","Player","getOAuthToken","cb","on","e","error","onStateChanged","startMusic","data","a","device_id","transferMyPlayback","getMyCurrentPlaybackState","device","is_restricted","assign","process","artistId","play","uris","songs","position_ms","setVolume","handleWebPlayerActive","LoadingGif","webPlayerActive","GameChoices","gameChoices","handleGameButton","showAnswers","correctChoice","Modal","setAppElement","modalIsOpen","setModalIsOpen","seconds","time","setTime","timerInterval","setTimerInterval","pauseTimer","sleep","SLEEP_TIMER","timerSleep","minutes","formatTime","isOpen","overlayClassName","score","margin","handlePlayAgain","handleQuit","GameDisplay","currentSong","song","GAME_TIMER","album","setSongs","setCurrentSong","setScore","setGameChoices","setCorrectChoice","setShowAnswers","setWebPlayerActive","setPauseTimer","useParams","getArtistAlbums","artistAlbums","allTracks","getAlbumTracks","albumTracks","track","shuffleSongs","getTrack","firstSong","getSongs","startGame","randomChoices","correctIndex","filledChoice","randomSongIndex","indexOf","findIndex","goToNextSong","nextSong","getMyCurrentPlayingTrack","item","duration_ms","uri","ms","Promise","resolve","setTimeout","fontFamily","display","flexDirection","alignItems","isPlayerActive","useLayoutEffect","document","title","textAlign","exact","path","GamePage","Home","ReactDOM","basename","getElementById"],"mappings":"oFAAAA,EAAOC,QAAU,03D,wCCAjBD,EAAOC,QAAU,IAA0B,qC,mLC6B5BC,EAzBC,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACf,OACI,yBAAKC,UAAU,eACVD,EAAQE,KAAI,SAACC,EAAQC,GAAT,OACT,yBAAKH,UAAU,eAAeI,IAAKD,GAC/B,kBAAC,IAAD,CAAME,GAAI,CACNC,SAAS,SAAD,OAAWC,mBAAmBL,EAAOM,KAC7CC,MAAO,CACHC,gBAAiBR,KAGpBA,GAAUA,EAAOS,OAAO,IACrB,yBAAKC,IAAKV,EAAOS,OAAO,GAAGE,IAAKC,IAAI,iBAAiBC,MAAM,MAAMC,OAAO,QAE3Ed,IAAWA,EAAOS,OAAO,IACtB,yBAAKC,IAAKK,IAAaH,IAAI,iBAAiBC,MAAM,MAAMC,OAAO,SAGvE,4BAAI,uBAAGE,KAAMhB,EAAOiB,cAAcC,QAASC,OAAO,SAASC,IAAI,uBAAuBpB,EAAOqB,a,gBCsClGC,EAxDM,SAACC,GAElB,IAAMC,EAAa,IAAIC,IAFK,EAIQC,mBAAS,IAJjB,mBAIrBC,EAJqB,KAITC,EAJS,OAKEF,mBAAS,IALX,mBAKrB7B,EALqB,KAKZgC,EALY,OAMFH,qBANE,mBAMrBI,EANqB,KAMdC,EANc,KAQ5BC,qBAAU,WAEN,IAAMF,EAAQG,KAAKC,MAAMC,aAAaC,QAAQ,iBAC9CL,EAASD,KACV,IAEHE,qBAAU,WACFF,GACAN,EAAWa,eAAeP,KAE/B,CAACA,IAEJE,qBAAU,WACFL,GACAH,EAAWc,OAAOX,EAAY,CAAC,UAAW,CAAEY,MAAO,KAAKC,MAAK,SAACC,GAC1DZ,EAAWY,EAAS5C,QAAQ6C,YAGrC,CAACf,IAeJ,OACI,6BACI,0BAAMgB,MAAO,CAACC,aAAc,QAASC,SAXlB,SAACC,GACxBA,EAAMC,iBACFpB,GACAH,EAAWc,OAAOX,EAAY,CAAC,UAAW,CAAEY,MAAO,IAAIC,MAAK,SAACC,GACzDZ,EAAWY,EAAS5C,QAAQ6C,YAQ5B,2BAAO5C,UAAU,eACVkD,YAAY,kBACZC,MAAOtB,EACPuB,SAnBM,SAACJ,GACtBlB,EAAckB,EAAM3B,OAAO8B,WAsBvB,kBAAC,EAAD,CAASpD,QAASA,MCvBfsD,EA5BY,SAAC5B,GACxB,OACI,yBAAKzB,UAAU,uBACX,wBAAI6C,MAAO,CAACC,aAAc,SAA1B,qBACA,yBAAK9C,UAAU,cAAc6C,MAAO,CAACS,eAAgB,iBAChD7B,EAAM8B,WAAWtD,KAAI,SAACC,EAAQC,GAAT,OAClB,yBAAKH,UAAU,eAAe6C,MAAO,CAACW,KAAM,QAASpD,IAAKD,GACtD,kBAAC,IAAD,CAAME,GAAI,CACNC,SAAS,SAAD,OAAWC,mBAAmBL,EAAOM,KAC7CC,MAAO,CACHC,gBAAiBR,KAGpBA,GAAUA,EAAOS,OAAO,IACrB,yBAAKC,IAAKV,EAAOS,OAAO,GAAGE,IAAKC,IAAI,iBAAiBC,MAAM,MAAMC,OAAO,QAE3Ed,IAAWA,EAAOS,OAAO,IACtB,yBAAKC,IAAKK,IAAaH,IAAI,iBAAiBC,MAAM,MAAMC,OAAO,SAGvE,4BAAI,uBAAGE,KAAMhB,EAAOiB,cAAcC,QAASC,OAAO,SAASC,IAAI,uBAAuBpB,EAAOqB,cC8BtGkC,eA9CF,SAAChC,GAAW,IAAD,EACMG,qBADN,mBACbI,EADa,KACNC,EADM,OAEIL,qBAFJ,mBAEP8B,GAFO,aAGgB9B,mBAAS,IAHzB,mBAGb2B,EAHa,KAGDI,EAHC,KAIdjC,EAAa,IAAIC,IAEvBO,qBAAU,WACN,IAAMF,EAAQG,KAAKC,MAAMC,aAAaC,QAAQ,iBAChC,OAAVN,GACAP,EAAMmC,QAAQC,KAAK,KAEvB5B,EAASD,KACV,IAEHE,qBAAU,WACFF,IACAN,EAAWa,eAAeP,GAC1BN,EAAWoC,QAAQpB,MAAK,SAACC,GACrBe,EAAQf,MAEZjB,EAAWqC,gBAAgB,CAACtB,MAAO,KAAKC,MAAK,SAACC,GAC1C,IAAIqB,EAAkBC,EAAQtB,EAASC,OACvCe,EAAcK,EAAgBE,MAAM,EAAE,UAG/C,CAAClC,IAEJ,IAAMiC,EAAU,SAACE,GACb,IAAK,IAAIC,EAAID,EAAIE,OAAS,EAAGD,EAAI,EAAGA,IAAK,CACrC,IAAIE,EAAIC,KAAKC,MAAMD,KAAKE,UAAYL,EAAE,IAClCM,EAAOP,EAAIC,GACfD,EAAIC,GAAKD,EAAIG,GACbH,EAAIG,GAAKI,EAEb,OAAOP,GAGX,OACI,yBAAKtB,MAAO,CAAC7B,OAAQ,SAEjB,kBAAC,EAAD,CAAoBuC,WAAYA,IAChC,kBAAC,EAAD,U,QCrBGoB,EAzBM,SAAC,GAAuC,IAA1BC,EAAyB,EAApCC,UAAyBC,EAAW,6BAgBxD,OACI,kBAAC,IAAD,iBAAWA,EAAX,CAAiBC,OAAQ,SAACtD,GAAD,OAhBV,WACf,IACMuD,EADY,IAAIC,gBAAgBC,OAAOC,SAAS3C,QACvB4C,IAAI,gBAGnC,QAFwBjD,KAAKC,MAAMC,aAAaC,QAAQ,oBAMpD0C,IACA3C,aAAagD,QAAQ,eAAgBlD,KAAKmD,UAAUN,KAC7C,GAMPO,GACE,kBAACX,EAAD,iBAAenD,EAAWqD,IAC1B,kBAAC,IAAD,CAAUzE,GAAK,gB,iBCHdmF,EAjBG,SAAC/D,GAMf,OACI,yBAAKzB,UAAU,cACX,yBAAKA,UAAU,UACX,wBAAIA,UAAU,eAAd,WACA,yBAAK6C,MAAO,CAAC4C,YAAa,QAAS3E,IAAI,OAAOF,IAAK8E,IAAM3E,MAAM,MAAMC,OAAO,SAEhF,4BAAQhB,UAAU,YAAY2F,KAAK,QAAQC,QAV/B,WAChBV,OAAOC,SAAW,gCASd,wB,wCCuEG1B,eAlFU,SAAChC,GAAW,IAAD,EAEJG,qBAFI,mBAEzBiE,EAFyB,KAEjBC,EAFiB,OAGFlE,oBAAS,GAHP,mBAGzBmE,EAHyB,KAGhBC,EAHgB,OAINpE,qBAJM,mBAIzBI,EAJyB,KAIlBC,EAJkB,KAM5BgE,EAAsB,KACtBvE,EAAa,IAAIC,IAErBO,qBAAU,WACN,IAAMF,EAAQG,KAAKC,MAAMC,aAAaC,QAAQ,iBAC9CL,EAASD,KACV,IAEHE,qBAAU,WACFF,IACAiE,EAAsBC,aAAY,kBAAMC,MAAkB,KAC1DzE,EAAWa,eAAeP,MAE/B,CAACA,IAEJE,qBAAU,WACF2D,IACAO,IACAC,QAAQC,IAAR,SAAsBT,GACtBA,EAAOU,aAEZ,CAACV,IAEJ,IAAMM,EAAiB,WACnBE,QAAQC,IAAI,0BACW,OAAnBpB,OAAOsB,UACPC,cAAcR,GACdH,EAAU,IAAIZ,OAAOsB,QAAQE,OAAO,CAChCnF,KAAM,qBACNoF,cAAe,SAAAC,GAAQA,EAAG5E,SAKhCoE,EAAsB,WACxBP,EAAOgB,GAAG,wBAAwB,SAAAC,GAAOT,QAAQU,MAAMD,MACvDjB,EAAOgB,GAAG,wBAAwB,SAAAC,GAC9BT,QAAQU,MAAMD,MAElBjB,EAAOgB,GAAG,iBAAiB,SAAAC,GAAOT,QAAQU,MAAMD,MAChDjB,EAAOgB,GAAG,kBAAkB,SAAAC,GAAOT,QAAQU,MAAMD,MAEjDjB,EAAOgB,GAAG,wBAAwB,SAAApG,GAAWuG,EAAevG,MAE5D,IAAMwG,EAAU,uCAAG,WAAOC,GAAP,SAAAC,EAAA,6DACfd,QAAQC,IAAI,uBACZD,QAAQC,IAAIY,EAAKE,WAFF,SAGT1F,EAAW2F,mBAAmB,CAACH,EAAKE,YAH3B,uBAIa1F,EAAW4F,4BAJxB,kBAKKC,OAAOC,cALZ,iBAMXtC,OAAOC,SAASsC,OAAhB,UAA0BC,WAA1B,iBAAyDjG,EAAMkG,WANpD,yCASLjG,EAAWkG,KAAK,CAACR,UAAWF,EAAKE,UAAWS,KAAMpG,EAAMqG,MAAOC,YAAa,OATvE,yBAULrG,EAAWsG,UAAU,IAVhB,QAWXvG,EAAMwG,uBAAsB,GAXjB,4CAAH,sDAehBpC,EAAOgB,GAAG,QAASI,IAGjBD,EAAiB,SAACvG,GAEN,OAAVA,GACAuF,GAAYD,IAIpB,OACI,iCCnEOmC,EAXI,SAACzG,GAChB,OACI,kBAAC,WAAD,MACOA,EAAM0G,iBACL,yBAAKnI,UAAU,cAAa,8BAAW,8BAAW,8BAAW,8BAAW,8BAAW,8BAAW,8BAAW,iCCU1GoI,EAdK,SAAC3G,GACjB,OACI,kBAAC,WAAD,KACMA,EAAM4G,YAAYhE,OAAS,GAAK5C,EAAM0G,iBACpC,yBAAKnI,UAAU,kBAEP,CAAC,EAAE,EAAE,EAAE,GAAGC,KAAI,SAAAE,GAAK,OAAI,4BAAQC,IAAKD,EAAOyF,QAAS,kBAAMnE,EAAM6G,iBAAiBnI,IAAQH,UAAS,oBAAoC,IAAtByB,EAAM8G,YAAuB9G,EAAM+G,gBAAkBrI,EAAQ,mBAAqB,qBAAuB,KAAQsB,EAAM4G,YAAYlI,GAAOoB,Y,iBCHlRkH,IAAMC,cAAc,SAEpB,IAiEejF,eAjED,SAAChC,GAAW,IAAD,EACiBG,oBAAS,GAD1B,mBACd+G,EADc,KACDC,EADC,OAEGhH,mBAASH,EAAMoH,SAFlB,mBAEdC,EAFc,KAERC,EAFQ,OAGqBnH,qBAHrB,mBAGdoH,EAHc,KAGCC,EAHD,MAIJ,IAAItH,KACVY,eAAed,EAAMO,OAEhCE,qBAAU,WACN+G,EAAiB/C,aAAY,WACrB6C,GAAQ,SAAAF,GAAO,OAAIA,EAAU,OAC9B,QAER,IAEH3G,qBAAU,WACN,GAAa,IAAT4G,EAIA,OAHArC,cAAcuC,GACd3C,QAAQC,IAAI,oBACZsC,GAAe,GAJP,4CAQZ,sBAAAzB,EAAA,0DACQ1F,EAAMyH,WADd,uBAEQzC,cAAcuC,GAFtB,SAIcvH,EAAM0H,MAAM1H,EAAM2H,aAJhC,OAMQH,EAAiB/C,aAAY,WACrB6C,GAAQ,SAAAF,GAAO,OAAIA,EAAU,OAC9B,MARf,4CARY,0DAoBZQ,KACD,CAACP,IAGJ5G,qBAAU,WACN,OAAO,WACHuE,cAAcuC,MAEnB,CAACA,IAWJ,OACI,6BACI,4BAXW,SAACF,GAChB,IAAID,EAAUC,EAAO,GACjBQ,EAAU/E,KAAKC,MAAMsE,EAAO,IAIhC,OAFAQ,EAAUA,EAAU,EAAI,KAAOA,EAAU,GAAV,WAAmBA,GAAYA,EAC9DT,EAAUA,EAAU,EAAI,KAAOA,EAAU,GAAV,WAAmBA,GAAYA,EACxD,GAAN,OAAUS,EAAV,YAAqBT,GAKZU,CAAWT,IAChB,kBAAC,IAAD,CAAOU,OAAQb,EAAa3I,UAAU,oBAAoByJ,iBAAiB,uBACvE,uCAAahI,EAAMiI,MAAnB,YACA,4BAAQ7G,MAAO,CAAC8G,OAAQ,YAAa/D,QAASnE,EAAMmI,iBAApD,cACA,4BAAQhE,QAASnE,EAAMoI,YAAvB,aC/CDC,EAhBK,SAACrI,GACjB,OACI,kBAAC,WAAD,KACMA,EAAMsI,aAAetI,EAAM0G,iBAAmB,CAC5C,4BAAQ/H,IAAI,OAAOwF,QAASnE,EAAMoI,YAAlC,QACA,wBAAIzJ,IAAI,SAAR,UAAwBqB,EAAMiI,OAC9B,wBAAItJ,IAAI,UAAR,iBAAgCqB,EAAMsI,YAAYC,KAAKzI,MACvD,kBAAC,EAAD,CAAOnB,IAAI,QAAQyI,QAASpH,EAAMwI,WAAYjI,MAAOP,EAAMO,MAAOkH,WAAYzH,EAAMyH,WAAYC,MAAO1H,EAAM0H,MAC1FC,YAAa3H,EAAM2H,YAAaM,MAAOjI,EAAMiI,MAAOE,gBAAiBnI,EAAMmI,gBAC3EC,WAAYpI,EAAMoI,aACrC,yBAAKzJ,IAAI,cAAcJ,UAAU,cAAcY,IAAKa,EAAMsI,YAAYC,KAAKE,MAAMvJ,OAAO,GAAGE,IAAKC,IAAI,aC0JrG2C,eA/JE,SAAChC,GAAW,IAAD,EAGlBC,EAAa,IAAIC,IAHC,EAKEC,qBALF,mBAKjBI,EALiB,KAKVC,EALU,OAMEL,mBAAS,IANX,mBAMjBkG,EANiB,KAMVqC,EANU,OAOcvI,qBAPd,mBAOjBmI,EAPiB,KAOJK,EAPI,OAQExI,mBAAS,GARX,mBAQjB8H,EARiB,KAQVW,EARU,OASczI,mBAAS,IATvB,mBASjByG,EATiB,KASJiC,EATI,OAUkB1I,oBAAU,GAV5B,mBAUjB4G,EAViB,KAUF+B,EAVE,OAWc3I,oBAAS,GAXvB,mBAWjB2G,EAXiB,KAWJiC,EAXI,OAYsB5I,oBAAS,GAZ/B,mBAYjBuG,EAZiB,KAYAsC,EAZA,OAaY7I,oBAAS,GAbrB,mBAajBsH,EAbiB,KAaLwB,EAbK,KAelB/C,EAAagD,cAAbhD,SAfkB,4CA6BxB,WAAwBA,GAAxB,iCAAAR,EAAA,sEAC6BzF,EAAWkJ,gBAAgBjD,EAAU,CAAElF,MAAO,KAD3E,OACQoI,EADR,OAEQC,EAAY,GAFpB,cAIwBD,EAAajI,OAJrC,gEAIesH,EAJf,kBAKkCxI,EAAWqJ,eAAeb,EAAM1J,IALlE,QAKcwK,EALd,qBAO4BA,EAAYpI,OAPxC,IAOQ,2BAAWqI,EAA4B,QACnCH,EAAUjH,KAAKoH,GAR3B,oLAYIH,EAAYI,GAAaJ,GACzBX,EAASW,GAbb,UAe0BpJ,EAAWyJ,SAASL,EAAU,GAAGtK,IAf3D,QAeQ4K,EAfR,OAgBIhB,EAAe,CAAEJ,KAAMoB,EAAWjL,MAAO,IAhB7C,iEA7BwB,sBAiBxB+B,qBAAU,WACN,IAAMF,EAAQG,KAAKC,MAAMC,aAAaC,QAAQ,iBAC9CL,EAASD,GAnBW,oCAoBpBqJ,CAAS1D,KACV,IAEHzF,qBAAU,WACFF,GACAN,EAAWa,eAAeP,KAE/B,CAACA,IAqBJ,IAAMkJ,GAAe,SAACpD,GAClB,IAAK,IAAI1D,EAAI0D,EAAMzD,OAAS,EAAGD,EAAI,EAAGA,IAAK,CACvC,IAAIE,EAAIC,KAAKC,MAAMD,KAAKE,UAAYL,EAAE,IAClCM,EAAOoD,EAAM1D,GACjB0D,EAAM1D,GAAK0D,EAAMxD,GACjBwD,EAAMxD,GAAKI,EAEf,OAAOoD,GAGX5F,qBAAU,WACF4F,GAASiC,GACTuB,OAEL,CAACvB,IAEJ,IAAMuB,GAAY,WAId,IAHA,IAAIC,EAAgB,EAAE,GAAI,GAAI,GAAI,GAC9BC,EAAejH,KAAKC,MAAsB,EAAhBD,KAAKE,UAE1BL,EAAE,EAAGA,EAAE,EAAGA,IACXA,IAAMoH,GAAe,WAIrB,IAHA,IAAIC,GAAe,EACfC,GAAmB,GAEfD,GACJC,EAAkBnH,KAAKC,MAAMD,KAAKE,SAAYqD,EAAMzD,SACJ,IAA5CkH,EAAcI,QAAQD,KAC0F,IAAzGH,EAAcK,WAAU,SAAAzL,GAAK,OAAe,IAAXA,GAAgB2H,EAAM3H,GAAOoB,OAASuG,EAAM4D,GAAiBnK,SAC9FmK,IAAoB3B,EAAY5J,OAChC2H,EAAM4D,GAAiBnK,OAASuG,EAAMiC,EAAY5J,OAAOoB,OAChEkK,GAAe,GAGvBF,EAAcnH,GAAKsH,EAbE,IAkB7BH,EAAgBA,EAActL,KAAI,SAAAE,GAAK,OAAI2H,EAAM3H,OACnCqL,GAAgB1D,EAAMiC,EAAY5J,OAIhDoK,EAAiBiB,GACjBlB,EAAeiB,IAGbjD,GAAgB,uCAAG,WAAOnI,GAAP,SAAAgH,EAAA,6DACjBkB,EAAYlI,GAAOoB,OAASwI,EAAYC,KAAKzI,MAC7C8I,EAASX,EAAQ,GAFA,SAKfc,GAAe,GALA,uBAMfE,GAAc,GANC,uBAOfvB,GAtGU,KA+FK,UAQrBqB,GAAe,GACfE,GAAc,KAEVX,EAAY5J,OAAS2H,EAAMzD,OAAS,GAXnB,kCAYXwH,GAAa,GAZF,iDAcXA,GAAa9B,EAAY5J,MAAQ,GAdtB,4CAAH,sDAkBhB0L,GAAY,uCAAG,WAAO1L,GAAP,eAAAgH,EAAA,sEACIzF,EAAWyJ,SAASrD,EAAM3H,GAAOK,IADrC,cACbsL,EADa,OAEjB1B,EAAe,CAACJ,KAAM8B,EAAU3L,MAAOA,IAFtB,SAGWuB,EAAWqK,2BAHtB,cAIGC,KAAKC,YAAc,IACnCvK,EAAWkG,KAAK,CAACC,KAAM,CAACC,EAAM3H,GAAO+L,KAAMnE,YAAa,OAExDrG,EAAWkG,KAAK,CAACC,KAAM,CAACC,EAAM3H,GAAO+L,OAPxB,2CAAH,sDAWZ/C,GAAQ,SAAAgD,GAAE,OAAI,IAAIC,SAAQ,SAAAC,GAAO,OAAIC,WAAWD,EAASF,OAUzDtC,GAAa,SAAC7G,GAChBkC,OAAOC,SAASsC,OAAhB,UAA0BC,WAA1B,OAGJ,OACI,yBAAK7E,MAAO,CAAC0J,WAAY,aAAcvL,OAAQ,OAAQwL,QAAS,OAAQC,cAAe,SAAUC,WAAY,WACzG,kBAAC,EAAD,CAAYvE,gBAAiBA,IAE5BL,EAAMzD,OAAS,GACZ,kBAAC,EAAD,CAAkByD,MAAOA,EAAM7H,KAAI,SAAA+J,GAAI,OAAIA,EAAKkC,OAAMjE,sBAjBpC,SAAC0E,GAC3BlC,EAAmBkC,IAgByFhF,SAAUA,IAGlH,kBAAC,GAAD,GAAaoC,YAAaA,EAAa5B,gBAAiBA,EAC3C0B,WAAYA,GAAYH,MAAOA,GAD5C,4BACgEK,GADhE,2BAjJW,GAiJX,sBAE4C/H,GAF5C,2BAE+DkH,GAF/D,sBAGoBC,IAHpB,4BAlJY,KAkJZ,iCAhBgB,WACpBjE,OAAOC,SAASsC,OAAhB,UAA0BC,WAA1B,iBAAyDC,OAerD,2BAIyBkC,IAJzB,IAMA,kBAAC,EAAD,CAAaxB,YAAaA,EAAaF,gBAAiBA,EAAiBG,iBAAkBA,GAC9EC,YAAaA,EAAaC,cAAeA,QC3HnD/E,G,MAAAA,aA9BH,SAAChC,GAKX,OAJAmL,2BAAgB,WACdC,SAASC,MAAM,YACd,IAGD,yBAAKjK,MAAO,CAACkK,UAAW,SAAU/L,OAAQ,SAEtC,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEgM,OAAK,EAACC,KAAK,SACXpI,UAAWW,EACXsH,MAAM,UAER,kBAAC,EAAD,CACEG,KAAK,kBACLpI,UAAWqI,EACXJ,MAAM,YAER,kBAAC,EAAD,CACEG,KAAK,IACLpI,UAAWsI,EACXL,MAAM,kBC1BlBM,IAASrI,OAEL,kBAAC,IAAD,CAAQsI,SAAU3F,YACd,kBAAC,EAAD,OAGFmF,SAASS,eAAe,W","file":"static/js/main.f16752f5.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAM1BMVEXk5ueutLeqsbTn6eqpr7PJzc/j5ebf4eLZ3N2wtrnBxsjN0NLGysy6v8HT1tissra8wMNxTKO9AAAFDklEQVR4nO2d3XqDIAxAlfivoO//tEOZWzvbVTEpic252W3PF0gAIcsyRVEURVEURVEURVEURVEURVEURVEURVEURVEURflgAFL/AirAqzXO9R7XNBVcy9TbuMHmxjN6lr92cNVVLKEurVfK/zCORVvW8iUBnC02dj+Wpu0z0Y6QlaN5phcwZqjkOkK5HZyPAjkIjSO4fIdfcOwFKkJlX4zPu7Ha1tIcwR3wWxyFhRG6g4Je0YpSPDJCV8a2Sv2zd1O1x/2WMDZCwljH+clRrHfWCLGK8REMiql//2si5+DKWKcWeAGcFMzzNrXC/0TUwQ2s6+LhlcwjTMlYsUIQzPOCb7YBiyHopyLXIEKPEkI/TgeuiidK/R9FniUDOjRDpvm0RhqjMyyXNjDhCfIMYl1gGjIMIuYsnGEYRMRZOMMunaLVwpWRW008v6fYKDIzxCwVAeNSO90BJW6emelYBRF/kHpYGVaoxTDAaxOFsfP9y8hpJ4xd7gOcij7JNGQ1EYFgkPJa1jQEiYZXRaRINKxSDUW9n+FT82lSKadkiru9/4XPqSLWOekGPoY05TAvLm9orm+YWuwHoBHkZKijNBJGmeb61eL6Ff/6q7bLr7yvv3vKGhpDRjvgjGaPz+gUg6YgcvpyAR2FIZ9U6nEEyZRTovmEU32KichpGn7C17XrfyH9gK/c0CMP05HZIM2uf9sEveizKveBy9/6Qt7o89ne33D525cfcIMW6ab+TMEukQbQbu+xu7X3A9bChmWaCeAkG17bpntwXgWxHaMzGPmUaR5dQZiKqRVeUZ3047fi3nAu28h4CHxCsZAgmEH8Y27jJAhm8c+5RQzRQNVGhVFSfxOYIjp/pP7RxzjevYXVGf4eLt+BJ1vCuLuLkrgABgCGXZ2wik5uty+oBvNirI6mkzhAf4Gsb58Hcm67Jzd+KwD10BYPLL3e0MjvKrgAULnOfveF/O4N2Xb9BZom3gJes3F9X5Zze8/6Yt09b4CrqsEjUv8oFBaR2rl+6CZr2xVrp24o/WitBKuGrrpl1+bFkmK2qXTON4VpbdfLa7o7y/WdLxG7lm2Lqh2clOwTegbvc/vj2U78CwhA87Bn8G5Nk3eOb0Nsr9flz3sG78UUtue4kpv1xvjg3TMay62BMlTlP+vrOMnJsRmt/ze0jsfkPPYdAH57hK+34PeOyc8XIXu5xT2HsUkdZz+adwg8HGFfQ3K5jtDvbUiO4Di9/ywHGrL88pDizZ++oTp+an+SMX/ndymUCwmHMdO7yuOx83pUx/eEMU0AvxWndwgidAqOZ8ypCwdEfvvEo6D9HwpA8wzvmOJEqAg9ySu8g4x0Hb9hSB/BANEKJ+LbPBU0lzbAJs4xt1AoshKkUGQmiH8/jJ0gdhTTLmSegHlPE0oOdXALnqDjKYh3px//fSgSWG8UqfrrIICzYYSJXRr9BSPbpNzw7gBjKjKOYI7ReIGqQRIap5+5MdjyvuDkExvGeXSlONWZAP3/AZBwJohU7QJRGU+cTVH18ELmRPNBmibW6MT/k1b0XhdkRBvyT6SB6EYv/GvhSmRNpGngRULsAlxMCGNXp7w3FfdEbTEEDdLI9TdIKRUzUesa3I461ER8cpNT7gMRhpKmYVS9ELOgCUQsa4SsulciKiLbY+AnHD8cpuhISsnxpamI84sbDq9qYJgf8wiiOBrC7Ml7M7ZECCqKoiiKoiiKoiiKoijv5AvJxlZRyNWWLwAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/spotify.daf13776.png\";","import React from 'react';\r\nimport blankArtist from '../../images/blank-artist.png'\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Artists = ({ artists }) => {\r\n    return ( \r\n        <div className=\"artist-grid\">\r\n            {artists.map((artist, index) => (\r\n                <div className=\"artist-panel\" key={index}>\r\n                    <Link to={{\r\n                        pathname: `/play/${encodeURIComponent(artist.id)}`,\r\n                        state: {\r\n                            artistSelection: artist\r\n                        }\r\n                    }}>\r\n                        {artist && artist.images[0] && \r\n                            <img src={artist.images[0].url} alt=\"artist profile\" width=\"300\" height=\"300\"/>\r\n                        }\r\n                        {artist && !artist.images[0] &&\r\n                            <img src={blankArtist} alt=\"artist profile\" width=\"300\" height=\"300\"/>\r\n                        }\r\n                    </Link>\r\n                    <h1><a href={artist.external_urls.spotify} target=\"_blank\" rel=\"noopener noreferrer\">{artist.name}</a></h1>\r\n                </div>\r\n            ))}\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default Artists;","import React, { useState, useEffect } from 'react';\r\nimport Artists from './Artists';\r\nimport SpotifyWebApi from 'spotify-web-api-js';\r\n\r\nconst ArtistSearch = (props) => {\r\n    // const token = sessionStorage.getItem(\"access_token\");\r\n    const spotifyApi = new SpotifyWebApi();\r\n\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [artists, setArtists] = useState([]);\r\n    const [token, setToken] = useState();\r\n\r\n    useEffect(() => {\r\n        // const token = sessionStorage.getItem(\"access_token\");\r\n        const token = JSON.parse(localStorage.getItem(\"access_token\"));\r\n        setToken(token);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (token) {\r\n            spotifyApi.setAccessToken(token);\r\n        }\r\n    }, [token]);\r\n\r\n    useEffect(() => {\r\n        if (searchTerm) {\r\n            spotifyApi.search(searchTerm, ['artist'], { limit: 15}).then((response) => {\r\n                setArtists(response.artists.items);\r\n            });\r\n        }\r\n    }, [searchTerm]);\r\n\r\n    const handleSearchTerm = (event) => {\r\n        setSearchTerm(event.target.value);\r\n    }\r\n\r\n    const handleSearchSubmit = (event) => {\r\n        event.preventDefault();\r\n        if (searchTerm) {\r\n            spotifyApi.search(searchTerm, ['artist'], { limit: 6}).then((response) => {\r\n                setArtists(response.artists.items);\r\n            });\r\n        }\r\n    }\r\n    \r\n    return ( \r\n        <div>\r\n            <form style={{marginBottom: \"40px\"}} onSubmit={handleSearchSubmit} >\r\n                <input className=\"search-input\"\r\n                       placeholder=\"Enter an artist\" \r\n                       value={searchTerm} \r\n                       onChange={handleSearchTerm}\r\n                />\r\n            </form>\r\n            \r\n            <Artists artists={artists} />\r\n        </div>\r\n    );\r\n}\r\n \r\nexport default ArtistSearch;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport blankArtist from '../../images/blank-artist.png'\r\n\r\nconst RecommendedArtists = (props) => {\r\n    return ( \r\n        <div className=\"recommended-artists\">\r\n            <h1 style={{marginBottom: \"20px\"}}>Your Top Artists:</h1>\r\n            <div className=\"artist-grid\" style={{justifyContent: \"space-evenly\"}}>\r\n                {props.topArtists.map((artist, index) => (\r\n                    <div className=\"artist-panel\" style={{flex: \"none\"}} key={index}>\r\n                        <Link to={{\r\n                            pathname: `/play/${encodeURIComponent(artist.id)}`,\r\n                            state: {\r\n                                artistSelection: artist\r\n                            }\r\n                        }}>\r\n                            {artist && artist.images[0] && \r\n                                <img src={artist.images[0].url} alt=\"artist profile\" width=\"200\" height=\"200\"/>\r\n                            }\r\n                            {artist && !artist.images[0] &&\r\n                                <img src={blankArtist} alt=\"artist profile\" width=\"200\" height=\"200\"/>\r\n                            }\r\n                        </Link>\r\n                        <h2><a href={artist.external_urls.spotify} target=\"_blank\" rel=\"noopener noreferrer\">{artist.name}</a></h2>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n \r\nexport default RecommendedArtists;","import React, { useState, useEffect } from 'react';\r\nimport UserInfo from './UserInfo';\r\nimport ArtistSearch from './ArtistSearch';\r\nimport RecommendedArtists from './RecommendedArtists';\r\nimport '../../css/Home.css';\r\nimport SpotifyWebApi from 'spotify-web-api-js';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst Home = (props) => {\r\n    const [token, setToken] = useState();\r\n    const [user, setUser] = useState();\r\n    const [topArtists, setTopArtists] = useState([]);\r\n    const spotifyApi = new SpotifyWebApi();   \r\n\r\n    useEffect(() => {\r\n        const token = JSON.parse(localStorage.getItem(\"access_token\"));\r\n        if (token === null) {\r\n            props.history.push('/');\r\n        }\r\n        setToken(token);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (token) {\r\n            spotifyApi.setAccessToken(token);\r\n            spotifyApi.getMe().then((response) => {\r\n                setUser(response);\r\n            });\r\n            spotifyApi.getMyTopArtists({limit: 20}).then((response) => {\r\n                let shuffledArtists = shuffle(response.items);\r\n                setTopArtists(shuffledArtists.slice(0,5));\r\n            });\r\n        }\r\n    }, [token]);\r\n\r\n    const shuffle = (arr) => {\r\n        for (let i = arr.length - 1; i > 0; i--) {\r\n            let j = Math.floor(Math.random() * (i+1));\r\n            let temp = arr[i];\r\n            arr[i] = arr[j];\r\n            arr[j] = temp;\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    return (\r\n        <div style={{height: \"100%\"}}>\r\n            {/* <UserInfo user={user} /> */}\r\n            <RecommendedArtists topArtists={topArtists} />\r\n            <ArtistSearch />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Home);","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n    const isLoggedIn = () => {\r\n        const urlParams = new URLSearchParams(window.location.search);\r\n        const access_token = urlParams.get(\"access_token\");\r\n        const access_token_ls = JSON.parse(localStorage.getItem(\"access_token\"));\r\n\r\n        if (access_token_ls) {\r\n            return true;\r\n        }\r\n        \r\n        if (access_token) {\r\n            localStorage.setItem(\"access_token\", JSON.stringify(access_token));\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    return (\r\n        <Route {...rest} render={(props) => (\r\n            isLoggedIn()\r\n            ? <Component {...props} {...rest} />\r\n            : <Redirect to = \"/login\" />\r\n        )} />\r\n    )\r\n}\r\n \r\nexport default PrivateRoute;","import React from 'react'\r\nimport logo from '../../images/spotify.png';\r\n\r\nconst LoginPage = (props) => {\r\n\r\n    const handleLogin = () => {\r\n        window.location = 'http://localhost:3001/login';\r\n    }\r\n\r\n    return (\r\n        <div className=\"login-page\">\r\n            <div className=\"banner\">\r\n                <h1 className=\"banner-text\">Quizify</h1>\r\n                <img style={{paddingLeft: \"30px\"}} alt=\"logo\" src={logo} width=\"100\" height=\"100\"/> \r\n            </div>\r\n            <button className=\"login-btn\" type=\"login\" onClick={handleLogin}>Login with Spotify</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginPage;","import React, { useEffect, useState } from 'react';\r\nimport SpotifyWebApi from 'spotify-web-api-js';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst SpotifyWebPlayer = (props) => {\r\n\r\n    const [player, setPlayer] = useState();\r\n    const [playing, setPlaying] = useState(false);\r\n    const [token, setToken] = useState();\r\n\r\n    let playerCheckInterval = null;\r\n    let spotifyApi = new SpotifyWebApi();    \r\n\r\n    useEffect(() => {\r\n        const token = JSON.parse(localStorage.getItem(\"access_token\"));\r\n        setToken(token);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (token) {\r\n            playerCheckInterval = setInterval(() => checkForPlayer(), 1000);\r\n            spotifyApi.setAccessToken(token);\r\n        }\r\n    }, [token]);\r\n\r\n    useEffect(() => {\r\n        if (player) {\r\n            createEventHandlers();\r\n            console.log(`Player`, player);\r\n            player.connect();\r\n        }\r\n    }, [player]);\r\n\r\n    const checkForPlayer = () => {\r\n        console.log('Checking for player...');\r\n        if (window.Spotify !== null) {\r\n            clearInterval(playerCheckInterval);\r\n            setPlayer(new window.Spotify.Player({\r\n                name: \"Spotify Web Player\",\r\n                getOAuthToken: cb => { cb(token); },\r\n            }));\r\n        }\r\n    }\r\n\r\n    const createEventHandlers = () => {\r\n        player.on('initialization_error', e => { console.error(e); });\r\n        player.on('authentication_error', e => {\r\n            console.error(e);\r\n        });\r\n        player.on('account_error', e => { console.error(e); });\r\n        player.on('playback_error', e => { console.error(e); });\r\n\r\n        player.on('player_state_changed', state => { onStateChanged(state) });\r\n\r\n        const startMusic = async (data) => {\r\n            console.log('Let the music play!');\r\n            console.log(data.device_id);\r\n            await spotifyApi.transferMyPlayback([data.device_id]);      \r\n            let currentPlayback = await spotifyApi.getMyCurrentPlaybackState();\r\n            if (currentPlayback.device.is_restricted) {\r\n                window.location.assign(`${process.env.PUBLIC_URL}/play/${props.artistId}`);\r\n\r\n            } else {\r\n                await spotifyApi.play({device_id: data.device_id, uris: props.songs, position_ms: 35000});\r\n                await spotifyApi.setVolume(50);\r\n                props.handleWebPlayerActive(true);\r\n            }\r\n        }\r\n\r\n        player.on('ready', startMusic);\r\n    }\r\n\r\n    const onStateChanged = (state) => {\r\n        // console.log(state);\r\n        if (state !== null) {\r\n            setPlaying(!playing);\r\n        }\r\n    }\r\n\r\n    return ( \r\n        <div>\r\n\r\n        </div>\r\n    );\r\n}\r\n \r\nexport default withRouter(SpotifyWebPlayer);","import React, { Fragment } from 'react';\r\n\r\nconst LoadingGif = (props) => {\r\n    return ( \r\n        <Fragment>\r\n            { !props.webPlayerActive &&\r\n                <div className=\"lds-roller\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\r\n            }\r\n        </Fragment>\r\n        \r\n    );\r\n}\r\n \r\nexport default LoadingGif;","import React, { Fragment } from 'react';\r\n\r\nconst GameChoices = (props) => {\r\n    return ( \r\n        <Fragment>\r\n            { props.gameChoices.length > 0 && props.webPlayerActive &&\r\n                <div className=\"game-interface\">\r\n                    {\r\n                        [0,1,2,3].map(index => <button key={index} onClick={() => props.handleGameButton(index)} className={`game-btn ${props.showAnswers === true ? props.correctChoice === index ? 'game-btn-correct' : 'game-btn-incorrect' : '' }`}>{props.gameChoices[index].name}</button> )\r\n                    }\r\n                </div>\r\n            }\r\n        </Fragment>\r\n     );\r\n}\r\n \r\nexport default GameChoices;","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport SpotifyWebApi from 'spotify-web-api-js';\r\nimport Modal from 'react-modal';\r\n\r\nModal.setAppElement('#root');\r\n\r\nconst Timer = (props) => {\r\n    const [modalIsOpen, setModalIsOpen] = useState(false);\r\n    const [time, setTime] = useState(props.seconds);\r\n    const [timerInterval, setTimerInterval] = useState();\r\n    let spotifyApi = new SpotifyWebApi();\r\n    spotifyApi.setAccessToken(props.token);\r\n\r\n    useEffect(() => {\r\n        setTimerInterval(setInterval(() => {\r\n                setTime(seconds => seconds - 1);\r\n            }, 1000)\r\n        )\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (time === 0) {\r\n            clearInterval(timerInterval);\r\n            console.log('Game ended!');\r\n            setModalIsOpen(true);\r\n            return;\r\n        }\r\n\r\n        async function timerSleep() {\r\n            if (props.pauseTimer) {\r\n                clearInterval(timerInterval);\r\n    \r\n                await props.sleep(props.SLEEP_TIMER);\r\n    \r\n                setTimerInterval(setInterval(() => {\r\n                        setTime(seconds => seconds - 1);\r\n                    }, 1000)\r\n                );\r\n            }\r\n        }\r\n        timerSleep();\r\n    }, [time]);\r\n\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            clearInterval(timerInterval);\r\n        }\r\n    }, [timerInterval]);\r\n\r\n    const formatTime = (time) => {\r\n        let seconds = time % 60;\r\n        let minutes = Math.floor(time / 60);\r\n\r\n        minutes = minutes < 1 ? '00' : minutes < 10 ? `0${minutes}` : minutes;\r\n        seconds = seconds < 1 ? '00' : seconds < 10 ? `0${seconds}` : seconds;\r\n        return `${minutes}:${seconds}`\r\n    }\r\n\r\n    return ( \r\n        <div>\r\n            <h1>{formatTime(time)}</h1>\r\n            <Modal isOpen={modalIsOpen} className=\"finish-game-modal\" overlayClassName=\"finish-game-overlay\">\r\n                <h1>You got {props.score} points!</h1>\r\n                <button style={{margin: \"20px 0px\"}} onClick={props.handlePlayAgain}>Play Again</button>\r\n                <button onClick={props.handleQuit}>Quit</button>\r\n            </Modal>\r\n        </div>\r\n    );\r\n}\r\n \r\nexport default withRouter(Timer);","import React, { Fragment } from 'react';\r\nimport Timer from './Timer';\r\n\r\nconst GameDisplay = (props) => {\r\n    return ( \r\n        <Fragment>\r\n            { props.currentSong && props.webPlayerActive && [\r\n                <button key=\"quit\" onClick={props.handleQuit}>Quit</button>,\r\n                <h1 key=\"score\">Score: {props.score}</h1>,\r\n                <h1 key=\"answer\">Current song: {props.currentSong.song.name}</h1>,\r\n                <Timer key=\"timer\" seconds={props.GAME_TIMER} token={props.token} pauseTimer={props.pauseTimer} sleep={props.sleep} \r\n                                   SLEEP_TIMER={props.SLEEP_TIMER} score={props.score} handlePlayAgain={props.handlePlayAgain} \r\n                                   handleQuit={props.handleQuit} />,\r\n                <img key=\"album-cover\" className=\"album-cover\" src={props.currentSong.song.album.images[0].url} alt=\"album\" />            \r\n            ]}  \r\n        </Fragment>\r\n    );\r\n}\r\n \r\nexport default GameDisplay;","import React, { useEffect, useState } from 'react';\r\nimport SpotifyWebApi from 'spotify-web-api-js';\r\nimport SpotifyWebPlayer from './SpotifyWebPlayer';\r\nimport { withRouter, useParams } from 'react-router-dom';\r\nimport LoadingGif from './LoadingGif';\r\nimport GameChoices from './GameChoices';\r\nimport GameDisplay from './GameDisplay';\r\n\r\nconst GamePage = (props) => {\r\n    const SLEEP_TIMER = 2000;\r\n    const GAME_TIMER = 5;\r\n    const spotifyApi = new SpotifyWebApi();\r\n\r\n    const [token, setToken] = useState();\r\n    const [songs, setSongs] = useState([]);    \r\n    const [currentSong, setCurrentSong] = useState();\r\n    const [score, setScore] = useState(0);\r\n    const [gameChoices, setGameChoices] = useState([]);\r\n    const [correctChoice, setCorrectChoice] = useState(-1);\r\n    const [showAnswers, setShowAnswers] = useState(false);\r\n    const [webPlayerActive, setWebPlayerActive] = useState(false);\r\n    const [pauseTimer, setPauseTimer] = useState(false);\r\n\r\n    let { artistId } = useParams();\r\n    \r\n    useEffect(() => {\r\n        const token = JSON.parse(localStorage.getItem(\"access_token\"));\r\n        setToken(token);\r\n        getSongs(artistId);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (token) {\r\n            spotifyApi.setAccessToken(token);\r\n        }\r\n    }, [token]);\r\n\r\n    async function getSongs(artistId) {\r\n        let artistAlbums = await spotifyApi.getArtistAlbums(artistId, { limit: 10 });\r\n        let allTracks = [];\r\n\r\n        for (const album of artistAlbums.items) {\r\n            const albumTracks = await spotifyApi.getAlbumTracks(album.id);\r\n            \r\n            for (const track of albumTracks.items) {\r\n                allTracks.push(track);\r\n            }\r\n        }\r\n\r\n        allTracks = shuffleSongs(allTracks);\r\n        setSongs(allTracks);\r\n\r\n        let firstSong = await spotifyApi.getTrack(allTracks[0].id);\r\n        setCurrentSong({ song: firstSong, index: 0})\r\n    }\r\n\r\n    const shuffleSongs = (songs) => {\r\n        for (let i = songs.length - 1; i > 0; i--) {\r\n            let j = Math.floor(Math.random() * (i+1));\r\n            let temp = songs[i];\r\n            songs[i] = songs[j];\r\n            songs[j] = temp;\r\n        }\r\n        return songs;\r\n    }\r\n\r\n    useEffect(() => { \r\n        if (songs && currentSong) {\r\n            startGame();\r\n        }\r\n    }, [currentSong]);\r\n\r\n    const startGame = () => {\r\n        let randomChoices = [-1, -1, -1, -1];\r\n        let correctIndex = Math.floor(Math.random() * 4);\r\n\r\n        for (let i=0; i<4; i++) {\r\n            if (i !== correctIndex) {\r\n                let filledChoice = false;\r\n                let randomSongIndex = -1;\r\n\r\n                while (!filledChoice) {\r\n                    randomSongIndex = Math.floor(Math.random() * (songs.length));\r\n                    if (randomChoices.indexOf(randomSongIndex) === -1 \r\n                            && randomChoices.findIndex(index => index !== -1 && songs[index].name === songs[randomSongIndex].name) === -1\r\n                            && randomSongIndex !== currentSong.index\r\n                            && songs[randomSongIndex].name !== songs[currentSong.index].name) {\r\n                        filledChoice = true;\r\n                    }\r\n                }\r\n                randomChoices[i] = randomSongIndex;\r\n            }\r\n        }\r\n\r\n        // console.log(\"Random choice indices: \", randomChoices);\r\n        randomChoices = randomChoices.map(index => songs[index]);\r\n        randomChoices[correctIndex] = songs[currentSong.index];\r\n        // console.log(\"Random choice songs: \", randomChoices.map(song => song.name));\r\n        // console.log(`Correct choice at index ${correctIndex}, song ${randomChoices[correctIndex].name}`)\r\n        // console.log(songs.map(song => song.uri));\r\n        setCorrectChoice(correctIndex);\r\n        setGameChoices(randomChoices);\r\n    }\r\n\r\n    const handleGameButton = async (index) => {\r\n        if (gameChoices[index].name === currentSong.song.name) {\r\n            setScore(score + 1);\r\n        } \r\n\r\n        await setShowAnswers(true);\r\n        await setPauseTimer(true);\r\n        await sleep(SLEEP_TIMER);\r\n        setShowAnswers(false); \r\n        setPauseTimer(false);\r\n\r\n        if (currentSong.index >= songs.length - 1) {\r\n            await goToNextSong(0);\r\n        } else {\r\n            await goToNextSong(currentSong.index + 1);\r\n        }\r\n    }\r\n\r\n    const goToNextSong = async (index) => {\r\n        let nextSong = await spotifyApi.getTrack(songs[index].id);\r\n        setCurrentSong({song: nextSong, index: index});\r\n        let currentPlayback = await spotifyApi.getMyCurrentPlayingTrack();\r\n        if (currentPlayback.item.duration_ms > 70000) {\r\n            spotifyApi.play({uris: [songs[index].uri], position_ms: 35000});\r\n        } else {\r\n            spotifyApi.play({uris: [songs[index].uri]});\r\n        }\r\n    }\r\n\r\n    const sleep = ms => new Promise(resolve => setTimeout(resolve, ms));\r\n\r\n    const handleWebPlayerActive = (isPlayerActive) => {\r\n        setWebPlayerActive(isPlayerActive);\r\n    }\r\n\r\n    const handlePlayAgain = () => {\r\n        window.location.assign(`${process.env.PUBLIC_URL}/play/${artistId}`)\r\n    }\r\n\r\n    const handleQuit = (event) => {\r\n        window.location.assign(`${process.env.PUBLIC_URL}/`);\r\n    }\r\n\r\n    return ( \r\n        <div style={{fontFamily: \"Montserrat\", height: \"100%\", display: \"flex\", flexDirection: \"column\", alignItems: \"center\"}}>\r\n            <LoadingGif webPlayerActive={webPlayerActive} />\r\n            \r\n            {songs.length > 0 &&\r\n                <SpotifyWebPlayer songs={songs.map(song => song.uri)} handleWebPlayerActive={handleWebPlayerActive} artistId={artistId} />\r\n            }\r\n            \r\n            <GameDisplay currentSong={currentSong} webPlayerActive={webPlayerActive}\r\n                         handleQuit={handleQuit} score={score} currentSong={currentSong}\r\n                         GAME_TIMER={GAME_TIMER} token={token} pauseTimer={pauseTimer}\r\n                         sleep={sleep} SLEEP_TIMER={SLEEP_TIMER} handlePlayAgain={handlePlayAgain}\r\n                         handleQuit={handleQuit} />\r\n\r\n            <GameChoices gameChoices={gameChoices} webPlayerActive={webPlayerActive} handleGameButton={handleGameButton}\r\n                         showAnswers={showAnswers} correctChoice={correctChoice} />\r\n        </div>\r\n    );\r\n}\r\n \r\nexport default withRouter(GamePage);","import React, { useState, useLayoutEffect } from 'react';\r\nimport { Switch, Route, withRouter } from \"react-router-dom\";\r\nimport Home from './components/Home/Home';\r\nimport PrivateRoute from './components/Routes/PrivateRoute';\r\nimport LoginPage from './components/Login/LoginPage';\r\nimport GamePage from './components/Game/GamePage';\r\nimport './css/App.css';\r\n\r\n\r\nconst App = (props) => {\r\n  useLayoutEffect(() => {\r\n    document.title=\"Quizify\"\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{textAlign: \"center\", height: \"100%\"}}>\r\n\r\n        <Switch>\r\n          <Route \r\n            exact path=\"/login\" \r\n            component={LoginPage}\r\n            title=\"Login\"\r\n          />\r\n          <PrivateRoute\r\n            path=\"/play/:artistId\"\r\n            component={GamePage}\r\n            title=\"Quizify\"\r\n          />\r\n          <PrivateRoute \r\n            path=\"/\" \r\n            component={Home}\r\n            title=\"Quizify\"\r\n          />\r\n        </Switch>\r\n    \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(App);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport App from './App';\n\nReactDOM.render(\n    \n    <Router basename={process.env.PUBLIC_URL}>\n        <App />\n    </Router>\n    \n    , document.getElementById('root')\n);\n"],"sourceRoot":""}